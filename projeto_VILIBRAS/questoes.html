<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questões | VILIBRAS</title>
    <link rel="icon" href="img/Logo VILIBRAS.png">
    <link rel="stylesheet" href="CSS/questoes.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <header>
        <div id="logo">
            <a href="home.html">VILIBRAS</a>
            <a href="home.html"><img src="img/Logo VILIBRAS.png" alt="logo"></a>
        </div>

        <nav id="menu">
            <button id="closeMenu"><i class="fa-solid fa-xmark"></i></button>
            <a href="home.html">Home</a>
            <a href="aulas.html">Aulas</a>
            <a href="dicionario.html">Dicionário</a>
            <a href="faq.html">FAQ</a>
        </nav>

        <div id="nav-right">
                <form class="search-box" action="pesquisar.php" method="get">
                    <input type="text" class="search-text" name="pesquisar" placeholder="Pesquisar...">
                    <button class="search-btn" type="submit">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                </form>
            <a class="icon-user" href="perfil.html" target="_blank"><i class="fa-solid fa-user"></i></a>
            <button id="openMenu"><i class="fa-solid fa-bars"></i></button>
        </div>
    </header>

    <main>
        <div class="box-questoes">
            <div class="main text">
                <h1>Questões</h1>
            </div>
            <div class="quiz">
                <h2 id="pergunta">Pergunta da questão</h2>
                <div id="buttons-resposta">
                    <button class="btn">Resposta 1</button>
                    <button class="btn">Resposta 2</button>
                    <button class="btn">Resposta 3</button>
                    <button class="btn">Resposta 4</button>
                </div>
                <button id="next-btn">Próximo</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-item">
            <h2>VILIBRAS</h2>
            <p><a href="#">Sobre</a></p>
            <p><a href="#">Contato</a></p>
            <p><a href="#">Serviços</a></p>
            <p><a href="#">Política de Privacidade</a></p>
        </div>
        <div class="footer-item">
            <h2>Ajuda</h2>
            <p><a href="faq.html">FAQ</a></p>
            <p><a href="#">Enviados</a></p>
        </div>
        <div class="footer-item social">
            <h2> Siga-nos </h2>
            <ul>
                <li> <a href="https://www.instagram.com/gustavoc_costa/" target="_blank"><i class="fa-brands fa-instagram"></i></a></li>
                <li> <i class="fa-brands fa-linkedin-in"></i> </li>
                <li> <i class="fa-brands fa-youtube"></i> </li>
                <li> <i class="fa-brands fa-twitter"></i> </li>
            </ul>
        </div>
    </footer>

    <script type="text/javascript">

        openMenu.addEventListener(
            'click', () => {menu.style.display = 'flex'
        })
        // função quando algo é clicado
        closeMenu.addEventListener(
            'click', () => {menu.removeAttribute('style')
        })
        
        // lista de questões do quiz
        const questions = [
            {
                question: "O que é Software?",
                answers: [
                    { text: "Peças como mouse e teclado", correct: false},
                    { text: "Parte lógica do computador", correct: true},
                    { text: "Parte física do computador", correct: false},
                    { text: "Nenhuma alternativa", correct: false},
                ]
            },
            {
                question: "O que é Hardware?",
                answers: [
                    { text: "Peças como monitor e fios", correct: false},
                    { text: "Parte lógica do computador", correct: false},
                    { text: "Parte física do computador", correct: true},
                    { text: "Nenhuma alternativa", correct: false},
                ]
            }
        ];

        // plotando variaveis
        const  questionElement = document.getElementById("pergunta");
        const  answerButtons = document.getElementById("buttons-resposta");
        const  nextButton = document.getElementById("next-btn");

        let currentQuestionIndex = 0;
        let score = 0;

        // funcao do quiz   
        function startQuiz(){
            currentQuestionIndex = 0;
            score = 0;
            nextButton.innerHTML = "Next";
            showQuestion();
        }

        // funcao da proxima questao
        function showQuestion(){
            resetState(); // ! funcao que reseta as perguntas
            let currentQuestion = questions[currentQuestionIndex];
            let questionNum = currentQuestionIndex + 1;
            questionElement.innerHTML = questionNum + ". " + currentQuestion.question;

            // mostrar respostas
            currentQuestion.answers.forEach(answer => {
                const button = document.createElement("button");
                button.innerHTML = answer.text;
                button.classList.add("btn");
                answerButtons.appendChild(button);
                if(answer.correct){
                    button.dataset.correct = answer.correct;
                }
                button.addEventListener("click", selectAnswer);
            });
        }

        // funcao que reseta as perguntas
        function resetState(){
            nextButton.style.display = "none";
            while(answerButtons.firstChild){
                answerButtons.removeChild(answerButtons.firstChild);
            }
        }

        // funcao que seleciona a resposta correta
        function selectAnswer(e){
            const selectedBtn = e.target;
            const isCorrect = selectedBtn.dataset.correct === "true";
            if(isCorrect){
                selectedBtn.classList.add("correct");
            }
            else{
                selectedBtn.classList.add("incorrect");
            }
        }

        startQuiz();

    </script>
</body>
</html>